# 项目介绍（马斯克标准·精简版）

宗旨（一行话）
- 用最少的代码与最低运维，交付可验证的“工厂收发”业务价值；所有设计服从可测量的用户体验与稳定性指标。

马斯克算法在本项目的落地
1) 质疑一切需求：每个需求必须有具名负责人与反证可能；没有数据就没有结论。
2) 先删后建：功能/流程/字段能删就删，删错再加回；每个版本至少删一项冗余。
3) 简化再优化：先达成“可用且简单”，再做性能优化与自动化。
4) 加速节拍：把任务切成≤24小时可完成的原子项；从提交到上线目标≤24小时。
5) 自动化最后做：只在稳定、高频路径上自动化（登录、工厂列表、下发/收回）。

关键指标（SLO/KPI）
- 首屏工厂列表 TTI P95 ≤ 800ms；云函数冷启动 P95 ≤ 500ms
- 下发/收回端到端成功率（日级）≥ 99.9%
- 缺陷修复 SLA：Sev1 4小时缓解/24小时根因；回滚≤15分钟
- 发布频率：每周≥2次，小步快跑

范围与边界
- 必须：多租户 orgId 强校验、状态过滤（active/1）、幂等提交、结构化日志与告警
- 明确不做：跨租户聚合报表、复杂工作流引擎、重前端分布式状态同步

最小架构（3条关键路径）
- 登录 → 获取 orgId → 会话持久化
- 工厂列表 → 请求必须携带 orgId → 仅返回启用工厂 → 空态可解释
- 下发/收回 → 幂等键（userId+orgId+业务键）→ 一致性与可追踪

快速开始（按此顺序）
1) 读取 docs/rules.md 的“验收清单”和“接口规范”
2) 在微信开发者工具导入 miniprogram；配置环境并联调 cloudfunctions/api
3) 用真实 orgId 登录，验证：工厂列表非空、状态过滤正确、Loading 显隐配对

版本与兼容
- 采用语义化版本；破坏性变更必须提供迁移脚本与回滚路径（≤15分钟）

风险与应急
- orgId 丢失/不匹配：请求直接拒绝并打点日志；触发 Sev1 告警
- 云函数异常：一键回滚上一个稳定版本；恢复后补偿与复盘

文档
- 规则（第一性原则与可执行标准）：docs/rules.md
- 本页为项目鸟瞰，细节以 rules.md 为准