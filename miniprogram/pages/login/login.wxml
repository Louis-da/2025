<view class="container">
  <!-- 登录表单 -->
  <view class="login-form-container">
    <view class="logo-section">
      <image class="logo" src="/images/ui/my-logo.png" mode="aspectFit" bindtap="clearCache"></image>
      <view class="app-name">云收发</view>
      <view class="app-slogan">高效、简洁的收发流程管理工具</view>
    </view>

    <view class="form-container">
      <view class="form-item">
        <view class="input-label">组织编码</view>
        <input class="input-field" type="text" bindinput="inputOrgCode" value="{{orgCode}}" placeholder="请输入组织编码" />
      </view>

      <view class="form-item">
        <view class="input-label">工号</view>
        <input class="input-field" type="text" bindinput="inputUsername" value="{{username}}" placeholder="请输入工号" />
      </view>

      <view class="form-item">
        <view class="input-label">密码</view>
        <input class="input-field" type="password" bindinput="inputPassword" value="{{password}}" placeholder="请输入密码" />
      </view>

      <button class="login-btn" bindtap="login" hover-class="button-hover" disabled="{{loading}}">
        <text wx:if="{{!loading}}">登录</text>
        <view wx:else class="loading-container">
          <view class="loading-spinner"></view>
          <text>登录中...</text>
        </view>
      </button>

      <!-- 服务协议和隐私政策勾选框 -->
      <view class="agreement-section">
        <view class="agreement-checkbox">
          <view class="checkbox {{agreeToTerms ? 'checked' : ''}}" bindtap="toggleAgreement">
            <view wx:if="{{agreeToTerms}}" class="checkmark">✓</view>
          </view>
          <text class="agreement-text">我已阅读并同意<text class="agreement-link" catchtap="showServiceAgreement">《服务协议》</text>和<text class="agreement-link" catchtap="showPrivacyPolicy">《隐私政策》</text></text>
        </view>
      </view>

      <view class="help-link" bindtap="forgotPassword">帮助忘记密码?</view>
    </view>

    <view class="footer">
      <view class="copyright">© {{currentYear}} 收发管理 保留所有权利</view>
    </view>
  </view>
</view>